<html>
<head>
<meta http-equiv="Content-Type"
content="text/html; charset=windows-1251">
<title>Керниган и Ричи - Введение в язык C</title>
</head>
<body background="../IMG/BACKGRND.GIF">
<pre>
              Аннотация

      Язык "C"(произносится "си") -  это  универсальный  язык
 программирования,   для  которого  характерны  экономичность
 выражения, современный поток управления и структуры  данных,
 богатый  набор  операторов.  Язык  "C" не является ни языком
 "очень  высокого  уровня",  ни  "большим"   языком,   и   не
 предназначается    для    некоторой    специальной   области
 применения.  но  отсутствие  ограничений  и  общность  языка
 делают его более удобным и эффективным для многих задач, чем
 языки,   предположительно   более    мощные.
      Язык "C", первоначально предназначавшийся для написания
 операционной  системы  "UNIX"  на  ЭВМ   DEC   PDP-11,   был
 разработан  и  реализован  на  этой  системе  Деннисом Ричи.
 Операционная система, компилятор с языка "C" и  по  существу
 все   прикладные   программы  системы  "UNIX"  (включая  все
 программное обеспечение, использованное при подготовке  этой
 книги) написаны на "C". Коммерческие компиляторы с языка "C"
 существуют  также  на  некоторых  других  ЭВМ,  включая  IBM
 System/370,   Honeywell  6000,  Interdata  8/32.  Язык  "C",
 однако, не связан с  какими-либо  определенными  аппаратными
 средствами  или  системами, и на нем легко писать программы,
 которые можно пропускать без изменений на любой ЭВМ, имеющей
 "C"-компилятор.
      Эта книга предназначена для того, чтобы помочь читателю
 научиться программировать на языке "C". Она содержит учебное
 введение, цель которого - позволить новым пользователям  на-
 чать  программировать  как можно быстрее, отдельные главы по
 всем основным особенностям языка и  справочное  руководство.
 Обучение построено в основном на чтении, написании и разборе
 примеров, а не голой формулировке правил. Примеры,  приводи-
 мые в книге, по большей части являются законченными реальны-
 ми программами, а не отдельными фрагментами. Все примеры бы-
 ли проверены непосредственно с текста книги, где они напеча-
 таны в виде, пригодном для ввода в машину. Кроме указаний  о
 том,  как  сделать использование языка более эффективным, мы
 также пытались, где это возможно, проиллюстрировать полезные
 алгоритмы и принципы хорошего стиля и разумной разработки.
      Настоящая   книга   не   является   вводным   курсом  в
 программирование; она предполагает определенное знакомство с
 основными  понятиями программирования такими как переменные,
 операторы присваивания,  циклы,  функции.  Тем  не  менее  и
 новичок  в  программировании  должен  оказаться  в состоянии
 читать подряд и освоиться с языком, хотя при  этом  была  бы
 полезной помощь более опытного коллеги.
      По нашему опыту, "C" показал себя приятным, выразитель-
 ным и разносторонним языком на широком множестве разнообраз-
 ных программ. Его легко выучить , и он не теряет  своих  ка-
 честв  с  ростом  опыта  программиста. Мы надеемся , что эта
 книга поможет вам хорошо его использовать.
      Вдумчивая  критика  и предложения многих наших друзей и
 коллег очень много добавили как для самой книги, так  и  для
 нашего  удовольствия  при  ее  написании.  В частности, Майк
 Биапси, Джим Блю, Стью Фельдман, Доуг Мак-Илрой,  Билл  Рум,
 Боб  Розин  и  Ларри  Рослер  тщательно  прочитали множество
 вариантов. Мы также  обязаны  Элю  Ахо,  Стиву  Борну,  Дэву
 Двораку,  Чаку  Хэлею,  Дебби  Хэлей,  Мариону Харрису, Рику
 Холту, Стиву Джонсону, Джону Машею, Бобу Митцу, Ральфу Мьюа,
 Питеру  Нельсону,  Эллиоту  Пинсону,  Биллу  Плагеру, Джерри
 Спиваку, Кену Томпсону  и  Питеру  Вейнбергеру  за  полезные
 замечания  на различных этапах и Майку Лоску и Джо Осанна за
 неоценимую помощь при печатании книги.
         Брайен В. Керниган
            Деннис М. Ричи

                  0.1. Введение.
      Язык "C" является универсальным языком программирова-
 ния. Он тесно связан с операционной системой "UNIX" , так
 как был развит на этой системе и так как "UNIX" и ее прог-
 раммное обеспечение написано на "C". Сам язык, однако, не
 связан с какой-либо одной операционной системой или машиной;
 и хотя его называют языком системного программирования, так
 как он удобен для написания операционных систем, он с равным
 успехом использовался при написании больших вычислительных
 программ, программ для обработки текстов и баз данных.
      Язык  "C"  -  это язык относительно "низкого уровня". В
 такой характеристике нет ничего оскорбительного; это  просто
 означает, что "C" имеет дело с объектами того же вида, что и
 большинство ЭВМ, а именно, с символами, числами и  адресами.
 Они  могут  объединяться  и пересылаться посредством обычных
 арифметических   и   логических   операций,   осуществляемых
 реальными ЭВМ.
      В  языке  "C"  отсутствуют   операции,   имеющие   дело
 непосредственно  с  составными  объектами, такими как строки
 символов,    множества,    списки    или    с     массивами,
 рассматриваемыми  как  целое.  Здесь, например, нет никакого
 аналога операциям PL/1, оперирующим  с  целыми  массивами  и
 строками.  Язык не предоставляет никаких других возможностей
 распределения  памяти,  кроме  статического  определения   и
 механизма   стеков,  обеспечиваемого  локальными  переменных
 функций; здесь нет ни "куч"(heap), ни "сборки  мусора",  как
 это  предусматривается в АЛГОЛЕ-68. Наконец, сам по себе "C"
 не обеспечивает никаких возможностей ввода-вывода: здесь нет
 операторов  read  или  write  и  никаких  встроенных методов
 доступа к файлам. Все эти механизмы высокого  уровня  должны
 обеспечиваться явно вызываемыми функциями.
      Аналогично, язык "C" предлагает только простые, после-
 довательные конструкции потоков управления: проверки, циклы,
 группирование и подпрограммы, но не мультипрограммирование,
 параллельные операции, синхронизацию или сопрограммы.
      Хотя отсутствие некоторых из этих средств может  выгля-
 деть  как удручающая неполноценность ("выходит, что я должен
 обращаться к функции, чтобы  сравнить  две  строки  символов
 ?!"),  но  удержание языка в скромных размерах дает реальные
 преимущества. Так как "C" относительно мал,  он  не  требует
 много  места для своего описания и может быть быстро выучен.
 Компилятор с "C" может быть простым и компактным. Кроме  то-
 го, компиляторы легко пишутся; при использовании современной
 технологии можно ожидать написания компилятора для новой ЭВМ
 за  пару месяцев и при этом окажется, что 80 процентов прог-
 раммы нового компилятора будет общей с  программой  для  уже
 существующих  компиляторов. Это обеспечивает высокую степень
 мобильности языка. Поскольку типы данных и стуктуры управле-
 ния,  имеющиеся  в "C", непосредственно поддерживаются боль-
 шинством существующих ЭВМ, библиотека, необходимая во  время
 прогона изолированных программ, оказывается очень маленькой.
 На PDP -11, например,  она  содержит  только  программы  для
 32-битового  умножения  и  деления и для выполнения программ
 ввода и вывода последовательностей. Конечно, каждая реализа-
 ция обеспечивает исчерпывающую, совместимую библиотеку функ-
 ций для выполнения операций ввода-вывода, обработки строк  и
 распределения памяти, но так как обращение к ним осуществля-
 ется только явно, можно , если необходимо, избежать их вызо-
 ва; эти функции могут быть компактно написаны на самом "C".
      Опять же из-за того , что язык "C" отражает возможности
 современных компьютеров, программы на "C" оказываются доста-
 точно  эффективными,  так что не возникает побуждения писать
 вместо этого программы на языке ассемблера. Наиболее  убеди-
 тельным  примером  этого  является сама операционная система
 "UNIX", которая почти полностью написана на  "C".  Из  13000
 строк программы системы только около 800 строк самого низко-
 го уровня написаны на ассемблере. Кроме  того,  по  существу
 все  прикладное программное обеспечение системы "UNIX" напи-
 сано на "C"; подавляющее большинство  пользователей  системы
 "UNIX"(включая  одного  из авторов этой книги) даже не знает
 языка ассемблера PDP-11.
      Хотя  "C"  соответствует возможностям многих ЭВМ, он не
 зависит от какой-либо конкретной архитектуры машины и в силу
 этого  без  особых  усилий  позволяет  писать  "переносимые"
 программы, т.е.  программы,  которые  можно  пропускать  без
 изменений  на различных аппаратных средствах. В наших кругах
 стал  уже  традицией   перенос   программного   обеспечения,
 разработанного на системе "UNIX", на системы ЭВМ: Honeywell,
 IBM и Interdata. Фактически компиляторы с "C" и  программное
 обеспечение  во  время  прогона  программ  на  этих  четырех
 системах,  по-видимому,  гораздо   более   совместимы,   чем
 стандартные   версии  фортрана  американского  национального
 института  стандартов  (ANSI).  Сама  операционная   система
 "UNIX"  теперь  работает  как  на PDP-11, так и на Interdata
 8/32. За исключением программ, которые неизбежно оказываются
 в    некоторой   степени   машинно-зависимыми,   таких   как
 компилятор, ассемблер и отладчик. Написанное  на  языке  "C"
 программное  обеспечение  идентично на обеих машинах. Внутри
 самой операционной системы 7000  строк  программы,  исключая
 математическое обеспечение языка ассемблера ЭВМ и управления
 операциями ввода-вывода, совпадают на 95 процентов.
      Программистам,  знакомым   с   другими   языками,   для
 сравнения  и  противопоставления  может  оказаться  полезным
 упоминание   нескольких    исторических,    технических    и
 философских аспектов "C".
      Многие  из  наиболее  важных  идей  "C"  происходят  от
 гораздо более старого, но все еще  вполне  жизненного  языка
 BCPL , разработанного Мартином Ричардсом. Косвенно язык BCPL
 оказал влияние на  "C"  через  язык  "B",  написанный  Кеном
 Томпсоном в 1970 году для первой операционной системы "UNIX"
 на ЭВМ PDP-7.
      Хотя  язык "C" имеет несколько общих с BCPL характерных
 особенностей,  он  никоим  образом  не  является   диалектом
 последнего.  И  BCPL и "B" - "безтипные" языки; единственным
 видом данных для них являются машинное  слово,  а  доступ  к
 другим  объектам  реализуется  специальными  операторами или
 обращением к функциям. В языке "C" объектами основных  типов
 данных  являются  символы, целые числа нескольких размеров и
 числа с  плавающей  точкой.  Кроме  того,  имеется  иерархия
 производных    типов    данных,   создаваемых   указателями,
 массивами, структурами, объединениями и функциями.
      Язык   "C"   включает   основные   конструкции   потока
 управления,  требуемые для хорошо структуированных программ:
 группирование операторов, принятие  решений  (if),  циклы  с
 проверкой  завершения в начале (while, for) или в конце (do)
 и выбор одного из множества  возможных  вариантов  (switch).
 (Все  эти  возможности  обеспечивались  и в BCPL, хотя и при
 несколько  отличном  синтаксисе;  этот  язык  предчувствовал
 наступившую   через   несколько   лет  моду  на  структурное
 программирование).
      В языке "C" имеются указатели  и  возможность  адресной
 арифметики.   Аргументы   передаются   функциям  посредством
 копирования значения аргумента  ,  и  вызванная  функция  не
 может  изменить фактический аргумент в вызывающей программе.
 Если желательно добиться "вызова по  ссылке",  можно  неявно
 передать  указатель,  и  функция  сможет изменить объект, на
 который этот указатель указывает. Имена массивов  передаются
 указанием  начала  массивов, так что аргументы типа массивов
 эффективно вызываются по ссылке.
      К любой  функции  можно  обращаться  рекурсивно,  и  ее
 локальные переменные обычно "автоматические", т.е. создаются
 заново при каждом обращении. Описание одной функции не может
 содержаться внутри другой, но переменные могут описываться в
 соответствии с обычной блочной структурой. Функции в  "C"  -
 программе  могут  транслироваться  отдельно.  переменные  по
 отношению к функции могут  быть  внутренними,  внешними,  но
 известными  только  в  пределах  одного исходного файла, или
 полностью  глобальными.  Внутренние  переменные  могут  быть
 автоматическими  или статическими. Автоматические переменные
 для большей эффективности  можно  помещать  в  регистры,  но
 объявление    регистра   является   только   указанием   для
 компилятора и  никак  не  связано  с  конкретными  машинными
 регистрами.
      Язык "C" не является языком со строгими типами в смысле
 Паскаля или  Алгола  68.  Он  сравнительно  снисходителен  к
 преобразованию   данных,   хотя  и  не  будет  автоматически
 преобразовывать типы данных с буйной непринужденностью языка
 PL/1.  Существующие  компиляторы  не предусматривают никакой
 проверки во время выполнения  программы  индексов  массивов,
 типов аргументов и т.д.
      В  тех  ситуациях,  когда  желательна  строгая проверка
 типов,  используется  специальная  версия  компилятора.  Эта
 программа  называется  lint  очевидно  потому,  она выбирает
 кусочки  пуха  из  вашей  программы.   Программа   lint   не
 генерирует  машинного  кода, а делает очень строгую проверку
 всех тех сторон программы, которые  можно  проконтролировать
 во    время    компиляции   и   загрузки.   Она   определяет
 несоответствие    типов,     несовместимость     аргументов,
 неиспользованные  или очевидным образом неинициализированные
 переменные, потенциальные трудности переносимости и т.д. Для
 программ,которые    благополучно    проходят   через   lint,
 гарантируется отсутствие  ошибок  типа  примерно  с  той  же
 полнотой,  как  и  для  программ,  написанных,  например, на
 АЛГОЛЕ-68. Другие возможности программы lint будут отмечены,
 когда представится соответствующий случай.
      Наконец,  язык "C", подобно любому другому языку, имеет
 свои  недостатки.   Некоторые   операции   имеют   неудачное
 старшинство;  некоторые  разделы  синтаксиса  могли  бы быть
 лучше;  сушествует  несколько  версий  языка,   отличающихся
 небольшими  деталями.  Тем  не менее язык "C" зарекомендовал
 себя как исключительно эффективный и выразительный язык  для
 широкого разнообразия применений программирования.
      Содержание  книги организовано следующим образом. Глава
 1 является учебным введением в центральную часть языка  "C".
 Цель  -  позволить читателю стартовать так быстро,как только
 возможно, так как мы твердо убеждены, что единственный  спо-
 соб изучить новый язык - писать на нем программы. При этом ,
 однако, предполагается рабочее владение основными элементами
 программирования;  здесь  не  об'ясняется, что такое ЭВМ или
 компилятор, не поясняется смысл выражений типа  n=n+1.  Хотя
 мы и пытались, где это возможно, продемонстрировать полезную
 технику программирования. Эта книга не предназначается  быть
 справочным  руководством  по структурам данных и алгоритмам;
 там, где мы вынуждены были сделать выбор, мы  концентрирова-
 лись на языке.
     В  главах со 2-й по 6-ю различные аспекты "C" излагаются
 более детально и несколько более формально, чем в  главе  1,
 хотя  ударение  по-прежнему делается на разборе примеров за-
 конченных, полезных программ, а не на отдельных фрагментах.
      В главе 2 обсуждаются основные типы данных, операторы и
 выражения.  В главе 3 рассматриваются управляющие операторы:
 if-else ,while ,for и т.д.  Глава  4  охватывает  функции  и
 структуру программы - внешние переменные, правила определен-
 ных областей действия описания и т.д. В главе 5  обсуждаются
 указатели  и адресная арифметика. Глава 6 содержит подробное
 описание структур и объединений.
      В главе 7 описывается стандартная библиотека  ввода-вы-
 вода языка "C", которая обеспечивает стандартный интерфейс с
 операционной системой. Эта библиотека ввода-вывода поддержи-
 вается  на  всех машинах, на которых реализован "C", так что
 программы, использующие ее для ввода, вывода и  других  сис-
 темных функций, могут переноситься с одной системы на другую
 по существу без изменений.
      В главе 8 описывается интерфейс между "C" - программами
 и операционной системой "UNIX". Упор делается на ввод-вывод,
 систему файлов и переносимость. Хотя  некоторые  части  этой
 главы  специфичны  для операционной системы "UNIX", програм-
 мисты, не использующие "UNIX", все же должны найти здесь по-
 лезный  материал, в том числе некоторое представление о том,
 как реализована одна версия стандартной библиотеки и предло-
 жения для достижения переносимости программы.
      Приложение  a  содержит справочное руководство по языку
 "C". Оно является "официальным" изложением синтаксиса и  се-
 мантики  "C"  и  (исключая  чей-либо собственный компилятор)
 окончательным арбитром для всех двусмысленностей и  упущений
 в предыдущих главах.
      Так  как "C" является развивающимся языком, реализован-
 ным на множестве систем, часть материла настоящей книги  мо-
 жет  не соответствовать текущему состоянию разработки на ка-
 кой-то конкретной системе. Мы старались избегать таких проб-
 лем  и предостерегать о возможных трудностях. В сомнительных
 случаях, однако, мы обычно предпочитали  описывать  ситуацию
 для  системы "UNIX" PDP-11 , так как она является средой для
 большинства программирующих на языке  "C".  В  приложении  а
 также  описаны расхождения в реализациях языка "C" на основ-
 ных системах.

</pre>
</body>
</html>
