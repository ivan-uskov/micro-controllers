<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="Author" content="Dmitry L. Smirnoff (C) 2001">
<link REL="stylesheet" HREF="(Styles).css" TYPE="text/css">
<title>2.2.1. Регистры защищенного режима</title>
</head>

<body background="(Фон).gif">

<hr>

<p>Регистры защищенного режима, которые часто
называются регистрами управления памятью,
определяют местонахождение структур данных,
управляющих сегментацией памяти. Они впервые
появились в процессоре i80286, а в процессорах i80386,
i80486 и Pentium их функции остались практически
неизменными. Для обеспечения защиты приложений в многозадачной
операционной системе (например, Windows 95)
прикладные программы не могут изменять содержимое
регистров управления памятью.</p>

<p><b>Регистр глобальной дескрипторной таблицы
GDTR</b> (Global Descriptor Table Register) и <b>регистр
дескрипторной таблицы прерываний IDTR</b> (Interrupt
Descriptor Table Register) имеют одинаковый формат и длину 48
бит. Они содержат 32-битный базовый адрес и
16-битный предел сегмента и определяют
местонахождение в физической памяти <b>глобальной
дескрипторной таблицы GDT</b> (это таблица,
содержащая дескрипторы общесистемных сегментов)
и <b>дескрипторную таблицу прерываний IDT</b>,
через которую производится обработка прерываний
и особых случаев, возникающих в ходе выполнения
программы.</p>

<p><b>Регистр локальной дескрипторной таблицы
LDTR</b> (Local Descriptor Table Register) и <b>регистр задачи TR</b>
(Task Register) имеют длину 16 бит. По существу, они
выполняют функции сегментных регистров, т.е.
опосредованно (через глобальную дескрипторную
таблицу GDT) указывают два важнейших сегмента,
относящихся к текущей задаче.</p>

<p><b>Регистр LDTR</b> определяет локальную
дескрипторную таблицу LDT, которая содержит
дескрипторы сегментов, являющихся &quot;частной
собственностью&quot; текущей задачи; другими
словами, с помощью локальных дескрипторных
таблиц в мультизадачной среде осуществляется
изолирование задач друг от друга.</p>

<p><b>Регистр задачи TR</b> определяет текущий
сегмент состояния задачи TSS (Task State Segment). Такие
сегменты ассоциируются с каждой задачей в
системе и предназначены для сохранения
контекста задачи (т.е. состояния всех регистров
процессора, используемых ей) при переключении
процессора с одной задачи на другую. Определение
таблицы LDT и сегмента TSS с помощью селекторов
означает, что они превращаются в &quot;обычные&quot;
сегменты памяти, которыми могут манипулировать
средства виртуальной памяти.</p>

<hr>

<p>Следующий раздел - “<a href="02-22.htm">2.2.2. Регистры
управления процессором</a>”</p>
</body>
</html>
