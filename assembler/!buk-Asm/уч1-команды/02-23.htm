<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta name="Author" content="Dmitry L. Smirnoff (C) 2001">
<link REL="stylesheet" HREF="(Styles).css" TYPE="text/css">
<title>2.2.3. Регистры отладки программ</title>
</head>

<body background="(Фон).gif">

<hr>

<p>Шесть регистров отладки (Debug Registers) DRO - DR3, DR6 и DR7
(функции регистров DR4 и DR5 пока не определены)
предназначены для реализации аппаратной отладки
программ, которая раньше применялись только в
миникомпьютерах и больших компьютерах.</p>

<p><b>Регистры DRO - DR3</b> позволяют задать четыре
линейных адреса контрольных точек для останова
по адресу. Формируемые текущей программой адреса
при выполнении каждой команды сравниваются с
адресами в этих регистрах и при равенстве
генерируется сигнал особого случая отладки.</p>

<p><b>Регистр DR6</b> называется регистром состояния
отладки. Процессор записывает в определенные его
биты информацию о тех обстоятельствах, которые
вызвали последний особый случай отладки. В
частности, в регистре DR6 имеются биты,
идентифицирующие регистрацию конкретной
контрольной точки, покомандную работу или
переключение задачи.</p>

<p><b>Регистр DR7</b> называется регистром управления
отладкой. Загружая в поля этого регистра
определенные значения, можно управлять
условиями регистрации контрольных точек, адреса
которых находятся в регистрах DRO - DR3. Для каждой
контрольной точки имеются четыре поля,
позволяющие задать: 

<ul>
  <li>регистрацию контрольной точки в одной текущей
    задаче или в любой задаче,</li>
  <li>регистрацию контрольной точки при обращении к
    памяти для записи/считывания данных или для
    выборки команды,</li>
  <li>фиксацию контрольной точки в зависимости от
    размера операнда, к которому производится
    обращение (байт, слово или двойное слово).</li>
</ul>

<p>Отметим, что задание контрольных точек в
регистрах отладки не требует модификации
отлаживаемой программы (что удобно при отладке
программ, находящихся в ПЗУ) и не ухудшает
быстродействия процессора при ее выполнении.
Раньше для реализации контрольных точек
приходилось пользоваться сложной
программой-отладчиком. К регистрам отладки имеют
доступ только программы, выполняющиеся на высшем
уровне привилегий.</p>

<hr>

<p>Следующий раздел - “<a href="03-01.htm">3.1. Режимы
адресации данных</a>
”</p>
</body>
</html>
