<html>
<head>
<title>Подключение Ресурсов К Исполняемому Файлу</title>
</head>
<BODY background="../../bgrwhite.gif">
<p><div align="center"><b><font size="+1" face="Arial">Подключение ресурсов к исполняемому файлу </font></b></div></p>

<p>
Ресурсы создаются отдельно от файлов программы и добавляются в bin-файл при линковании
программы. Подавляющее большинство ресурсов содержится в файлах ресурсов, имеющих расширение
.RC. Имя файла ресурсов обычно совпадает с именем bin-файла программы. Так, если имя программы
MYPROG.EXE, то имя файла ресурсов - MYPROG.RC.
<p>
Некоторые типы ресурсов (меню, например) можно описать на специальном языке и воспользоватся
при этом обычным текстовым редактором, поддерживающим текст в формате ASCII. Другие ресурсы
(иконки, курсоры, изображения) тоже описываются в текстовом виде, но часть их описания
является последовательность шестнадцатиричных цифр описывающих изображения. Можно, конечно,
попробовать написать эту последовательностьи в текстовом редакторе, но, наверное, в этом
случае сложность создания ресурса приблизится к сложности написания программы, а возможно,
и превысит ее. Обычно для создания ресурсов пользуются специальными средствами - редакторами
ресурсов. Они позволяют создавать ресурсы, визуально контролировать правильность их создания,
после чего сохранять их в файлах ресурсов.
<p>
Я часто использую "смешанный" способ редактирования ресурсов. Например, при визуальном
редактировании диалоговых окон достаточно трудно точно установить элементы диалогового окна
именно так, как хочется. Устанавливаю все элементы ПРИБЛИЗИТЕЛЬНО на те места, где они должны
находиться, после чего сохраняю ресурсы в виде файла с расширением RC. Затем редактирую RC-файл
как обычный текстовый файл, точно указывая при этом все размеры и позиции.
<p>
При создании RC-файлов программист может столкнуться с одной тонкостью. Некоторые ресурсы,
такие, как иконки, курсоры, диалоговые окна, изображения (bitmap'ы) могут быть сохранены в
отдельных файлах с расширениями .ico, .cur, .dlg, .bmp соответственно. В этом случае в RC-файлах
делаются ссылки на упомянутые файлы.
<p>
Файл ресурсов создан - теперь его нужно откомпилировать. Компилируется он специальным
компилятором ресурсов. Обычно имя компилятора ресурсов заканчивается на RC.EXE. В частности,
в Borland 5.0 он называется BRC.EXE.
<p>
После компиляции файла ресурсов компилятором ресурсов создается новый файл, имеющий расширение
.RES. Именно этот RES-файл используется линкером для добавления ресурсов в bin-файл. Следует
отметить, что при необходимости RES-файлы могут создаваться и редакторами ресурсов. В каком
формате создавать ресурсы и как присоединять их к исполняемому файлу, зависит от потребностей
и привычек создающего ресурсы программиста.
<p>
Итак, постараемся подвести итог сказанному. Ресурсы создаются и включаются в bin-файл
посредством выполнения следующих шагов (некоторые шаги могут быть опущены в зависимости от
обстоятельств)
<p>
<center>
<h3>Последовательность создания файла ресурсов</h3>
<table width=90% border=1><tr><td align=center width=40% bgcolor=#000050><b>Действие</b></td>
<td align=center width=40% bgcolor=#000050><b>Используемое средство</b></td>
</tr><tr>
<td>Создание RC-файла (при необходимости включающего ссылки на файлы с расширением
.ico, .cur, .bmp, .dlg, .mnu и т.д.)<br>
</td>
<td>Редактор ресурсов (при необходимости может быть использован текстовый редактор
и графические редакторы)</td>
</tr><tr><td>
Редактирование RC-файла в текстовом виде
</td><td>Текстовый редактор</td></tr>
<tr><td>
Компиляция RC-файла - получение RES-файла</td>
<td>Компилятор ресурсов</td></tr>
<td>Добавление ресурсов, содержащихся в RES-файле, в bin-файл</td>
<td>Линкер</td>
</tr></table>
</center>

<p><div align="center"><a href="res.html">	<img src="../../back.gif" width=66 height=29 border=0 alt=""></a></div></p>
</body>
</html>