<html>
<head>
<title>Контекст Дисплея</title>
</head>
<BODY background="../../bgrwhite.gif">
<p><div align="center"><b><font size="+1" face="Arial">Контекст Дисплея </font></b></div></p>

<p>

Windows поддерживает три типа контекста дисплея - контекст класса, приватный контекст
и общий контекст. Первые два типа используются в приложениях, которые выводят на экран
большое количество информации. Ярким примером такого рода приложений являются настольные
издательские системы, графические пакеты и т.д.
<p>
Приложения, которые не очень интенсивно работают с экраном, испольуют общий контекст.
Контекст класса является устаревшим и поддерживается только для обеспечения совместимости
с предыдущими версиями Windows. Microsoft не рекомендует использовать его при разработке
новых приложений и рекомендует использовать только приватный контекст.
<p>
Контексты устройств хранятся в кэше, управляемом системой. Хэндл общего контекста
программа получает с помощью функций GetDC(), GetDCEx() или BeginPaint(). После того,
как программа отработает с дисплеем, она должна освободить контекст, вызвав функцию
ReleaseDC() или EndPaint() (в случае, если контекст получался с помощью BeginPaint()).
После того, как контекст дисплея освобожден, все изменения, внесенные в него программой,
теряются и при повторном получении контекста все действия по изменению контекста
необходимо повторять заново.
<p>
Приватный контекст отличается от общего тем, что сохраняет изменения даже после того,
как прикладная программа освободила его. Приватный контекст не хранится в кэше, поэтому
прикладная программа может не освобождать его. Естественно, что в этом случае за счет
использования большего объема памяти достигается более высокая скорость работы с дисплеем.
<p>
Для работы с приватным контекстом необходимо при регистрации класса окна указать стиль
CS_OWNDC. После этого программа может получать хэндл контекста устройства точно так же,
как и в случае общего контекста. Система удаляет приватный контекст в том случае, когда
удаляется окно.
<p>
При работе с контекстами необходимо запомнить, что хэндлы контекста устройства с помощью
функции BeginPaint() необходимо получать только в случае обработки сообщения WM_PAINT.
Во всех остальных случаях необходимо использовать функции GetDC() или GetDCEx().

<p><div align="center"><a href="3.html">	<img src="../../back.gif" width=66 height=29 border=0 alt=""></a></div></p>

</body>
</html>